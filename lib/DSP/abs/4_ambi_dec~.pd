#N canvas 161 89 843 758 10;
#X obj 9 83 inlet~;
#X obj 399 432 *~ 0.25;
#X obj 341 432 +~;
#X obj 356 432 +~;
#X obj 370 432 +~;
#X obj 385 432 +~;
#X text 523 429 the 25-th LS will be added to;
#X text 417 400 LS 21 \, 22 \, 23 and 24;
#X text 526 445 with 25 %;
#X obj 34 -46 inlet;
#X text 136 10 25 ambisonic signals;
#X text 31 -62 ambi order weight list;
#X obj 587 -38 inlet;
#X obj 590 17 t f f;
#X obj 615 38 > 0;
#X obj 658 105 switch~;
#X obj 615 60 sel 0 1;
#X obj 615 82 del 50;
#X msg 659 82 0;
#X msg 690 82 1;
#X obj 647 36 r DSP_MIX_INTERPOL_TIME;
#X obj 24 26 catch~ 1_AMBI_BUS;
#X obj 38 46 catch~ 2_AMBI_BUS;
#X obj 53 66 catch~ 3_AMBI_BUS;
#X obj 68 86 catch~ 4_AMBI_BUS;
#X obj 84 106 catch~ 5_AMBI_BUS;
#X obj 98 126 catch~ 6_AMBI_BUS;
#X obj 112 146 catch~ 7_AMBI_BUS;
#X obj 127 166 catch~ 8_AMBI_BUS;
#X obj 152 26 catch~ 9_AMBI_BUS;
#X obj 167 46 catch~ 10_AMBI_BUS;
#X obj 181 66 catch~ 11_AMBI_BUS;
#X obj 196 86 catch~ 12_AMBI_BUS;
#X obj 212 106 catch~ 13_AMBI_BUS;
#X obj 226 126 catch~ 14_AMBI_BUS;
#X obj 241 146 catch~ 15_AMBI_BUS;
#X obj 255 165 catch~ 16_AMBI_BUS;
#X obj 590 -6 dbtorms;
#X text 586 -60 gain;
#X obj 25 507 throw~ 1_OUT;
#X obj 40 527 throw~ 2_OUT;
#X obj 55 547 throw~ 3_OUT;
#X obj 70 567 throw~ 4_OUT;
#X obj 85 588 throw~ 5_OUT;
#X obj 100 607 throw~ 6_OUT;
#X obj 115 628 throw~ 7_OUT;
#X obj 130 647 throw~ 8_OUT;
#X obj 249 648 throw~ 16_OUT;
#X obj 233 627 throw~ 15_OUT;
#X obj 218 607 throw~ 14_OUT;
#X obj 203 587 throw~ 13_OUT;
#X obj 188 567 throw~ 12_OUT;
#X obj 173 547 throw~ 11_OUT;
#X obj 159 527 throw~ 10_OUT;
#X obj 143 508 throw~ 9_OUT;
#X obj 262 507 throw~ 17_OUT;
#X obj 277 527 throw~ 18_OUT;
#X obj 292 547 throw~ 19_OUT;
#X obj 307 567 throw~ 20_OUT;
#X obj 322 588 throw~ 21_OUT;
#X obj 337 607 throw~ 22_OUT;
#X obj 352 628 throw~ 23_OUT;
#X obj 367 647 throw~ 24_OUT;
#X obj 19 617 outlet~;
#X obj 24 469 multiline~ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 50;
#X obj 255 327 s~ 16_AMBI_BUS;
#X obj 239 307 s~ 15_AMBI_BUS;
#X obj 225 287 s~ 14_AMBI_BUS;
#X obj 211 267 s~ 13_AMBI_BUS;
#X obj 197 247 s~ 12_AMBI_BUS;
#X obj 181 227 s~ 11_AMBI_BUS;
#X obj 167 207 s~ 10_AMBI_BUS;
#X obj 153 187 s~ 9_AMBI_BUS;
#X obj 25 189 s~ 1_AMBI_BUS;
#X obj 39 209 s~ 2_AMBI_BUS;
#X obj 53 229 s~ 3_AMBI_BUS;
#X obj 69 249 s~ 4_AMBI_BUS;
#X obj 83 269 s~ 5_AMBI_BUS;
#X obj 97 290 s~ 6_AMBI_BUS;
#X obj 111 309 s~ 7_AMBI_BUS;
#X obj 127 329 s~ 8_AMBI_BUS;
#N canvas 697 145 683 664 ambi_dec_calc_matrix 0;
#X obj 150 188 t b b b b b b b;
#X msg 150 501 pseudo_inverse;
#X obj 164 544 round_zero 1e-06;
#X obj 206 482 pp pht_ls;
#X obj 192 444 pp mir_ls;
#X obj 178 380 pp mrg_ls;
#X obj 164 329 pp ind_ls;
#N canvas 0 0 511 314 zero_count 0;
#X obj 39 86 repack 1;
#X obj 40 109 sel 0;
#X obj 54 146 f;
#X obj 85 144 + 1;
#X msg 102 99 0;
#X obj 60 21 inlet;
#X obj 129 230 outlet;
#X obj 130 200 f;
#X obj 60 51 t a b;
#X obj 158 86 del 10;
#X msg 174 115 ***************************************;
#X obj 174 139 print ***;
#X obj 158 164 del 10;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 7 1;
#X connect 3 0 2 1;
#X connect 4 0 3 0;
#X connect 4 0 2 0;
#X connect 5 0 8 0;
#X connect 7 0 6 0;
#X connect 8 0 0 0;
#X connect 8 1 4 0;
#X connect 8 1 9 0;
#X connect 9 0 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 7 0;
#X restore 164 566 pd zero_count;
#X obj 164 598 print number_of_zeros_in_decoder:;
#X text 371 269 LS 13 .. 24 + 25;
#X obj 39 17 inlet;
#X obj 267 566 print decoder;
#X obj 235 265 pp ambi_weight;
#X obj 150 162 t b l;
#X obj 250 205 f 0.863;
#X msg 178 348 1 0 0 \, 2 0 330 \, 3 0 300 \, 4 0 270 \, 5 0 240 \,
6 0 210 \, 7 0 180 \, 8 0 150 \, 9 0 120 \, 10 0 90 \, 11 0 60 \, 12
0 30;
#X msg 164 283 1 30 337.5 \, 2 30 292.5 \, 3 30 247.5 \, 4 30 202.5
\, 5 30 157.5 \, 6 30 112.5 \, 7 30 67.5 \, 8 30 22.5 \, 9 60 315 \,
10 60 225 \, 11 60 135 \, 12 60 45 \, 13 90 0;
#X msg 192 399 1 -30 0 \, 2 -30 330 \, 3 -30 300 \, 4 -30 270 \, 5
-30 240 \, 6 -30 210 \, 7 -30 180 \, 8 -30 150 \, 9 -30 120 \, 10 -30
90 \, 11 -30 60 \, 12 -30 30;
#X msg 206 463 1 -60 315 \, 2 -60 225 \, 3 -60 135 \, 4 -60 45 \, 5
-90 0;
#X obj 150 45 clip -20 20;
#X obj 236 45 clip -20 20;
#X obj 259 64 clip -20 20;
#X obj 172 65 clip -20 20;
#X obj 195 85 clip -20 20;
#X msg 250 224 mirror_weight \$1;
#X obj 11 610 outlet;
#X text 51 23;
#X text 367 330 LS 1 .. 12;
#X obj 79 141 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 79 119 loadbang;
#X obj 150 21 unpack 0 0 0 0 0 0;
#X obj 281 85 clip -20 20;
#X obj 150 141 pack 0 0 0 0 0 0;
#X obj 164 522 ambi_decode2 4 3 13 12 5;
#X obj 233 244 any 1.66667 1.50751 1.09085 0.57582 0.159154;
#X connect 0 0 1 0;
#X connect 0 1 16 0;
#X connect 0 2 15 0;
#X connect 0 3 17 0;
#X connect 0 4 18 0;
#X connect 0 5 34 0;
#X connect 0 6 14 0;
#X connect 1 0 33 0;
#X connect 2 0 7 0;
#X connect 2 0 25 0;
#X connect 3 0 33 0;
#X connect 4 0 33 0;
#X connect 5 0 33 0;
#X connect 6 0 33 0;
#X connect 7 0 8 0;
#X connect 10 0 30 0;
#X connect 12 0 33 0;
#X connect 13 0 0 0;
#X connect 13 1 34 1;
#X connect 14 0 24 0;
#X connect 15 0 5 0;
#X connect 16 0 6 0;
#X connect 17 0 4 0;
#X connect 18 0 3 0;
#X connect 19 0 32 0;
#X connect 20 0 32 3;
#X connect 21 0 32 4;
#X connect 22 0 32 1;
#X connect 23 0 32 2;
#X connect 24 0 33 0;
#X connect 28 0 0 0;
#X connect 29 0 28 0;
#X connect 30 0 19 0;
#X connect 30 1 22 0;
#X connect 30 2 23 0;
#X connect 30 3 20 0;
#X connect 30 4 21 0;
#X connect 30 5 31 0;
#X connect 31 0 32 5;
#X connect 32 0 13 0;
#X connect 33 0 2 0;
#X connect 34 0 12 0;
#X restore 39 -17 pd ambi_dec_calc_matrix;
#X obj 285 26 catch~ 17_AMBI_BUS;
#X obj 300 46 catch~ 18_AMBI_BUS;
#X obj 314 66 catch~ 19_AMBI_BUS;
#X obj 329 86 catch~ 20_AMBI_BUS;
#X obj 345 106 catch~ 21_AMBI_BUS;
#X obj 359 126 catch~ 22_AMBI_BUS;
#X obj 374 146 catch~ 23_AMBI_BUS;
#X obj 388 165 catch~ 24_AMBI_BUS;
#X obj 418 25 catch~ 25_AMBI_BUS;
#X obj 418 188 s~ 25_AMBI_BUS;
#X obj 388 327 s~ 24_AMBI_BUS;
#X obj 372 307 s~ 23_AMBI_BUS;
#X obj 358 287 s~ 22_AMBI_BUS;
#X obj 344 267 s~ 21_AMBI_BUS;
#X obj 330 247 s~ 20_AMBI_BUS;
#X obj 314 227 s~ 19_AMBI_BUS;
#X obj 300 207 s~ 18_AMBI_BUS;
#X obj 286 187 s~ 17_AMBI_BUS;
#X obj 40 358 mtx_*~ 25 25 0 _____________________________________________
;
#X connect 1 0 2 1;
#X connect 1 0 3 1;
#X connect 1 0 4 1;
#X connect 1 0 5 1;
#X connect 2 0 64 20;
#X connect 3 0 64 21;
#X connect 4 0 64 22;
#X connect 5 0 64 23;
#X connect 9 0 81 0;
#X connect 12 0 37 0;
#X connect 13 0 64 24;
#X connect 13 1 14 0;
#X connect 14 0 16 0;
#X connect 16 0 17 0;
#X connect 16 1 19 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 19 0 15 0;
#X connect 20 0 17 1;
#X connect 20 0 64 25;
#X connect 21 0 73 0;
#X connect 21 0 100 1;
#X connect 22 0 74 0;
#X connect 22 0 100 2;
#X connect 23 0 75 0;
#X connect 23 0 100 3;
#X connect 24 0 76 0;
#X connect 24 0 100 4;
#X connect 25 0 77 0;
#X connect 25 0 100 5;
#X connect 26 0 78 0;
#X connect 26 0 100 6;
#X connect 27 0 79 0;
#X connect 27 0 100 7;
#X connect 28 0 80 0;
#X connect 28 0 100 8;
#X connect 29 0 72 0;
#X connect 29 0 100 9;
#X connect 30 0 71 0;
#X connect 30 0 100 10;
#X connect 31 0 70 0;
#X connect 31 0 100 11;
#X connect 32 0 69 0;
#X connect 32 0 100 12;
#X connect 33 0 68 0;
#X connect 33 0 100 13;
#X connect 34 0 67 0;
#X connect 34 0 100 14;
#X connect 35 0 66 0;
#X connect 35 0 100 15;
#X connect 36 0 65 0;
#X connect 36 0 100 16;
#X connect 37 0 13 0;
#X connect 64 0 39 0;
#X connect 64 1 40 0;
#X connect 64 2 41 0;
#X connect 64 3 42 0;
#X connect 64 4 43 0;
#X connect 64 5 44 0;
#X connect 64 6 45 0;
#X connect 64 7 46 0;
#X connect 64 8 54 0;
#X connect 64 9 53 0;
#X connect 64 10 52 0;
#X connect 64 11 51 0;
#X connect 64 12 50 0;
#X connect 64 13 49 0;
#X connect 64 14 48 0;
#X connect 64 15 47 0;
#X connect 64 16 55 0;
#X connect 64 17 56 0;
#X connect 64 18 57 0;
#X connect 64 19 58 0;
#X connect 64 20 59 0;
#X connect 64 21 60 0;
#X connect 64 22 61 0;
#X connect 64 23 62 0;
#X connect 81 0 100 0;
#X connect 82 0 99 0;
#X connect 82 0 100 17;
#X connect 83 0 98 0;
#X connect 83 0 100 18;
#X connect 84 0 97 0;
#X connect 84 0 100 19;
#X connect 85 0 96 0;
#X connect 85 0 100 20;
#X connect 86 0 95 0;
#X connect 86 0 100 21;
#X connect 87 0 94 0;
#X connect 87 0 100 22;
#X connect 88 0 93 0;
#X connect 88 0 100 23;
#X connect 89 0 92 0;
#X connect 89 0 100 24;
#X connect 90 0 91 0;
#X connect 90 0 100 25;
#X connect 100 0 64 12;
#X connect 100 1 64 13;
#X connect 100 2 64 14;
#X connect 100 3 64 15;
#X connect 100 4 64 16;
#X connect 100 5 64 17;
#X connect 100 6 64 18;
#X connect 100 7 64 19;
#X connect 100 8 2 0;
#X connect 100 9 3 0;
#X connect 100 10 4 0;
#X connect 100 11 5 0;
#X connect 100 12 1 0;
#X connect 100 13 64 0;
#X connect 100 14 64 1;
#X connect 100 15 64 2;
#X connect 100 16 64 3;
#X connect 100 17 64 4;
#X connect 100 18 64 5;
#X connect 100 19 64 6;
#X connect 100 20 64 7;
#X connect 100 21 64 8;
#X connect 100 22 64 9;
#X connect 100 23 64 10;
#X connect 100 24 64 11;
